---
title: 【特效】UE4 Niagara 制作爆炸特效
date: 2021-10-15 15:58:09
categories: 
    - [杂记]
    - [UE4]
author: songjihu
avatar: 'http://82.156.182.226:8099/Avatar/avatar.jpg'
authorLink: 'http://82.156.182.226'
description: 使用UE4.26.2版本引擎中的Niagara系统制作爆炸特效
photos: http://82.156.182.226:8099/img/my/QQ截图20211019104515.jpg
mathjax: true

---

# 0. 前言
以下部分包括3个方面，火焰特效，烟雾特效，爆炸特效  
总结一下就是照抄，参考链接来自：  
Part1: [Niagara fire tutorial in Unreal Engine 4 (UE4 Fire niagara tutorial)](https://www.youtube.com/watch?v=rKIqa_IUkBo&t=0s)  
Part2: [Niagara Smoke tutorial in Unreal Engine 4 (UE4 smoke niagara tutorial)](https://www.youtube.com/watch?v=tTTL_bzQLuY&t=0s)  
Part3: [Niagara Explosion tutorial in Unreal Engine 4 (UE4 explosion niagara tutorial)](https://www.youtube.com/watch?v=pfr4hfF8NKw)

## 0.1 Niagara简单入门
<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ截图20211018082603.jpg
" width="80%" height="70%" >
<center></center>
<br/>
</div>
具体参考官方文档，这里大概说一下就是粒子系统->粒子发射器->3个阶段（发射器、粒子、渲染）


# 1. 火焰特效
火焰包括2部分，一部分是火焰本身，另一部分是迸溅出来的火星。  
<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ录屏202110180815322021101881661.gif
" width="100%" height="70%" >
<center>火焰特效</center>
<br/>
</div>
  

## 1.1 Part 1 火焰

整体思路：火焰部分使用一张6X6的帧序列和一张火焰的纹理（后者只取了R通道），依次显示0-35的帧，再把贴图贴上去。
<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ截图20211018082106.jpg
" width="100%" height="70%" >
<center>用到的贴图</center>
<br/>
</div>

<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ截图20211018082947.jpg
" width="100%" height="70%" >
<center>渲染部分</center>
<br/>
</div>

贴图和材质是UE中Start Content中包含的

<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ截图20211018083251.jpg
" width="100%" height="70%" >
<center>粒子更新部分</center>
<br/>
</div>

Sub UVAnimation部分在每一个粒子上播放帧动画  
Add Velocity和Vector Noise Force部分使粒子在XY方向（地面）有初始速度并根据Noise抖动  
Scale Color部分使火焰的颜色，根据时间的流逝变暗  

## 1.2 Part 2 火星
整体思路，同样使用Sprite渲染器，这次使用了默认的材质（效果是一个白色的小球），在球面上生成粒子，沿着45°圆锥的方向产生速度，施加Drag和Noise，并且使Scale和Alpha随时间变小  

<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ截图20211018084726.jpg
" width="100%" height="70%" >
<center>粒子更新部分</center>
<br/>
</div>

Scale Sprite Size部分使粒子随时间尺寸变小  
Scale Color部分使粒子随时间变透明  
Add Velocity in Cone部分获得初始速度  
Drag和Vector Noise Force部分处理加速度  

# 2. 烟雾特效

<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ录屏2021101908152920211019816171.gif
" width="100%" height="70%" >
<center>烟雾效果</center>
<br/>
</div>

<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ截图20211018092001.jpg
" width="100%" height="70%" >
<center>贴图部分，原理同上</center>
<br/>
</div>

<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ截图20211019082647.jpg
" width="100%" height="70%" >
<center>粒子更新部分，原理同上</center>
<br/>
</div>


# 3. 爆炸特效

## 3.1 Part 1 DirectionalBurst

<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ截图20211019095709.jpg
" width="100%" height="70%" >
<center>系统自带的Burst模板</center>
<br/>
</div>


## 3.2 Part 2 爆炸
<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ截图20211019090342.jpg
" width="100%" height="70%" >
<center>使用的贴图</center>
<br/>
</div>

<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ截图20211019092110.jpg
" width="100%" height="70%" >
<center>scale color使得爆炸效果中间的时候颜色很强（R 50 G 2 B 10）</center>
<br/>
</div>


<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ截图20211019092344.jpg
" width="100%" height="70%" >
<center>一些随机性使得爆炸效果更加真实</center>
<br/>
</div>


## 3.3 合并3个特效
添加火焰特效、烟雾特效到当前niagara system中，设置火焰和烟雾发射器的延迟（先爆炸后起火），调整一下sphere position的半径和sprite的size，最终效果如图

<div align="center">
<img src="http://82.156.182.226:8099/img/my/
QQ录屏20211019102853202110191030362.gif
" width="100%" height="70%" >
<center></center>
<br/>
</div>


